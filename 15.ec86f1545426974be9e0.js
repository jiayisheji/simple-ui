(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{IMbJ:function(t,e,s){"use strict";s.r(e),s.d(e,"EchartsModule",(function(){return H}));var i=s("sEIs"),r=s("aiL/"),a=s("2kYt"),n=s("EM62");let h=(()=>{class t{}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(e){return new(e||t)},imports:[[a.c]]}),t})();var c=s("M0ag"),o=s("+Ncj");let l=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:o.a,useValue:e}]}}}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(e){return new(e||t)},imports:[[a.c]]}),t})(),d=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Db({type:t,selectors:[["doc-api"]],decls:2,vars:0,template:function(t,e){1&t&&(n.Ob(0,"p"),n.xc(1,"api works!"),n.Nb())},styles:[""]}),t})();var u=s("PBVc");let p=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Db({type:t,selectors:[["ng-component"]],decls:7,vars:0,template:function(t,e){1&t&&(n.Ob(0,"doc-playground-components"),n.Ob(1,"h1"),n.xc(2," Echarts "),n.Ob(3,"span"),n.xc(4,"\u56fe\u8868\u7ec4\u4ef6"),n.Nb(),n.Nb(),n.Ob(5,"p"),n.xc(6,"\u7c21\u55ae\u63cf\u8ff0"),n.Nb(),n.Nb())},directives:[u.a],styles:[""]}),t})(),g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Db({type:t,selectors:[["doc-examples"]],decls:2,vars:0,template:function(t,e){1&t&&(n.Ob(0,"p"),n.xc(1,"examples works!"),n.Nb())},styles:[""]}),t})();var b=s("ikI+"),f=s("ROBh"),m=s("TLy2"),y=s("8j5Y"),O=s("YtkY"),v=s("vobO"),_=s("C05f"),w=s("6Oco"),C=s("47ST"),j=s("wTjk"),S=s("GoAz"),L=s("xVbo"),x=s("J+dc"),E=s("4e/d"),M=s("7ntQ");let z=(()=>{class t{constructor(t,e,s,i){this._httpClient=e,this._options=i,this._ready=new _.a(null),this.ready=this._ready.asObservable().pipe(Object(L.a)(t=>!!t),Object(x.a)(1)),Object(a.I)(s)&&t.defaultView.echarts?this._ready.next(t.defaultView.echarts):this._loadLibrary().pipe(Object(m.a)(e=>(t.defaultView.echarts=e,this._ready.next(e),w.a)),Object(E.a)(t=>(console.error("[SimEChartsLoader] ",t),w.a))).subscribe()}_loadLibrary(){if(this._options){if(!this._options.echarts)return Object(C.a)("The core library was not imported!");if(this._options.echarts)return this.loadCoreLibrary().pipe(Object(m.a)(t=>this._loadThemes(t)))}return Object(C.a)("ECharts.js library was not imported!")}_loadThemes(t){if(!this._options.themes||!this._options.themes.length)return;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Simple UI icons. Please include the HttpClientModule from @angular/common/http in your app imports.");const e=this._options.themes.map(e=>e.url.endsWith(".json")?this._httpClient.get(e.url,{responseType:"json",withCredentials:!0===e.withCredentials}).pipe(Object(M.a)(),Object(y.a)(s=>t.registerTheme(e.name,s.theme))):Object(f.a)(null));return Object(j.a)(...e).pipe(Object(O.a)(()=>t))}loadCoreLibrary(){return Object(S.a)(this._options.echarts()).pipe(Object(L.a)(t=>!!t&&!!t.default),Object(O.a)(t=>t.default))}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(a.e),n.Sb(v.b,8),n.Sb(n.B),n.Sb(o.a,8))},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class k{get length(){return this._storage.size}getItem(t){return this._storage.get(t)}removeItem(t){this._storage.delete(t)}setItem(t,e){this._storage.set(t,e)}clear(){this._storage.clear()}key(t){return null}}let I=(()=>{class t{constructor(t,e,s,i){var r;this._echartsService=e,this._httpClient=s,this._options=i,this._mapOption=null!==(r=null==i?void 0:i.registerMap)&&void 0!==r?r:{},this._storage=this._supportStorage(null==t?void 0:t.defaultView)}registerMap(t,e){const s=this.getUrl(t,e);if(!s.endsWith(".json"))throw Error("need to provide a geo with a JSON file");return this.getCache(t).pipe(Object(m.a)(e=>e?Object(f.a)(e):this._httpClient.get(s,{responseType:"json",withCredentials:!0===this._mapOption.withCredentials}).pipe(Object(y.a)(e=>{this.setCache(t,e)}))),Object(m.a)(e=>this._echartsService.registerMap(t,e)))}clearCache(){var t;if(this._storage instanceof k)this._storage.clear();else{const e=null!==(t=this._mapOption.cacheKeyPrefix)&&void 0!==t?t:"registerMap";for(const t of Object.keys(this._storage))t.startsWith(e)&&this._storage.removeItem(t)}}getCache(t){const e=Object(b.d)(this._storage.getItem(this.getKey(t)));return Object(f.a)(e)}setCache(t,e){const s=Object(b.a)(e);s&&this._storage.setItem(this.getKey(t),s)}getKey(t){var e;return((null!==(e=this._mapOption.cacheKeyPrefix)&&void 0!==e?e:"registerMap")+"_"+t).toUpperCase()}getUrl(t,e){if(e)return e;const{assets:s}=this._mapOption;return s?`${s}/${t}.json`:""}_supportStorage(t){var e;if(t){const s=null!==(e=this._mapOption.cacheType)&&void 0!==e?e:"localStorage";if(["localStorage","sessionStorage"].includes(s)&&s in t)return t[s]}return new k}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(a.e),n.Sb(T),n.Sb(v.b,8),n.Sb(o.a,8))},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),T=(()=>{class t{constructor(t,e){this._loader=t,this._options=e}init(t,e,s){return this._loader.ready.pipe(Object(O.a)(i=>i.init(t,e,s)))}connect(t){return this._loader.ready.pipe(Object(O.a)(e=>e.connect(t)))}disConnect(t){return this._loader.ready.pipe(Object(O.a)(e=>e.disConnect(t)))}dispose(t){return this._loader.ready.pipe(Object(O.a)(e=>e.dispose(t)))}getInstanceByDom(t){return this._loader.ready.pipe(Object(O.a)(e=>e.getInstanceByDom(t)))}registerMap(t,e,s){return this._loader.ready.pipe(Object(O.a)(i=>i.registerMap(t,e,s)))}getMap(t){return this._loader.ready.pipe(Object(O.a)(e=>e.getMap(t)))}registerTheme(t,e){return this._loader.ready.pipe(Object(O.a)(s=>s.registerTheme(t,e)))}graphic(){return this._loader.ready.pipe(Object(O.a)(t=>t.graphic))}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(z),n.Sb(o.a,8))},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var D=s("BeyH"),V=s("D57K"),R=s("ZTXN"),A=s("KTx3"),N=s("IdLP"),U=s("kuMc"),W=s("mWib");class F{constructor(t){this.changes=t}static of(t){return new F(t)}notEmpty(t){if(this.changes[t]){const e=this.changes[t].currentValue;if(null!=e)return Object(f.a)(e)}return w.a}has(t){if(this.changes[t]){const e=this.changes[t].currentValue;return Object(f.a)(e)}return w.a}notFirst(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){const e=this.changes[t].currentValue;return Object(f.a)(e)}return w.a}notFirstAndEmpty(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){const e=this.changes[t].currentValue;if(null!=e)return Object(f.a)(e)}return w.a}}let P=(()=>{class t{constructor(t,e,s,i,r){if(this._elementRef=e,this._ngZone=s,this._echartsService=i,this._options=r,this.loadingType="default",this.autoResize=!0,this.chartInit=new n.n,this.chartOptionsError=new n.n,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.currentOffsetWidth=0,this.currentOffsetHeight=0,this._destroyed=new R.a,this._window=null==t?void 0:t.defaultView,this._element=this._elementRef.nativeElement,r){const{initOpts:t,loadingOpts:e,themes:s}=r;if(t&&(this.initOpts=t),e){const{type:t}=e,s=Object(V.c)(e,["type"]);this.loadingType=t,this.loadingOpts=s}s&&s.length&&(this.theme=s[0].name)}}ngOnChanges(t){const e=F.of(t);e.notFirstAndEmpty("options").pipe(Object(U.a)(this._destroyed)).subscribe(t=>this.onOptionsChange(t)),e.notFirstAndEmpty("merge").pipe(Object(U.a)(this._destroyed)).subscribe(t=>this.setOption(t)),e.has("loading").pipe(Object(U.a)(this._destroyed)).subscribe(t=>this.toggleLoading(!!t)),e.notFirst("theme").pipe(Object(U.a)(this._destroyed)).subscribe(()=>this.refreshChart())}ngOnInit(){this._window&&(this.resizeSub=Object(A.a)(this._window,"resize").pipe(Object(W.a)(50)).subscribe(()=>{if(this.autoResize&&this._window.innerWidth!==this.currentWindowWidth){this.currentWindowWidth=this._window.innerWidth;const{offsetWidth:t,offsetHeight:e}=this._element;this.currentOffsetWidth=t,this.currentOffsetHeight=e,this.resize()}}))}ngDoCheck(){if(this._chart&&this.autoResize){const{offsetWidth:t,offsetHeight:e}=this._element;this.currentOffsetWidth===t&&this.currentOffsetHeight===e||(this.currentOffsetWidth=t,this.currentOffsetHeight=e,this.resize())}}ngAfterViewInit(){const t=setTimeout(()=>{this.initChart(),clearTimeout(t)},0)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.dispose(),this.resizeSub.unsubscribe()}dispose(){this._chart&&(this._chart.dispose(),this._chart=null)}resize(){this._chart&&this._chart.resize()}toggleLoading(t){this._chart&&(t?this._chart.showLoading(this.loadingType,this.loadingOpts):this._chart.hideLoading())}setOption(t,e){if(this._chart)try{this._chart.setOption(t,e)}catch(s){console.error(s),this.chartOptionsError.emit(s)}}refreshChart(){this.dispose(),this.initChart()}createChart(){var t;this.currentWindowWidth=null===(t=this._window)||void 0===t?void 0:t.innerWidth;const e=this._element;if(this.currentOffsetWidth=e.offsetWidth,this.currentOffsetHeight=e.offsetHeight,this._window&&this._window.getComputedStyle){const t=this._window.getComputedStyle(e,null).getPropertyValue("height");t&&"0px"!==t||e.style.height&&"0px"!==e.style.height||(e.style.height="400px")}this._ngZone.runOutsideAngular(()=>{this._echartsService.init(e,this.theme,this.initOpts).subscribe(t=>{this._chart=t,this.chartInit.emit(t),this.options&&this.setOption(this.options,!0)})})}initChart(){this.onOptionsChange(this.options),this.merge&&this._chart&&this.setOption(this.merge)}onOptionsChange(t){t&&(this._chart?this._chart.setOption(this.options,!0):this.createChart())}createLazyEvent(t){return this.chartInit.pipe(Object(m.a)(e=>new N.a(s=>(e.on(t,t=>this._ngZone.run(()=>s.next(t))),null))))}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(a.e),n.Jb(n.l),n.Jb(n.z),n.Jb(T),n.Jb(o.a))},t.\u0275dir=n.Eb({type:t,selectors:[["div","simEcharts",""],["canvas","simEcharts",""],["sim-echarts"]],hostAttrs:["role","img",1,"sim-echarts"],hostVars:2,hostBindings:function(t,e){2&t&&n.sc("display","block")},inputs:{options:"options",theme:"theme",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts",initOpts:"initOpts",merge:"merge",autoResize:"autoResize"},outputs:{chartInit:"chartInit",chartOptionsError:"chartOptionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["simEcharts"],features:[n.xb]}),t})();const B=[{path:"",component:p,children:[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"overview",component:(()=>{class t{constructor(t){this.eChartsRegisterMapService=t,this.theme="roma"}ngOnInit(){const t=[],e=[],s=[];for(let i=0;i<100;i++)t.push("category"+i),e.push(5*(Math.sin(i/5)*(i/5-10)+i/6)),s.push(5*(Math.cos(i/5)*(i/5-10)+i/6));this.eChartsRegisterMapService.registerMap("china").subscribe(()=>{console.log("ok")}),this.options={legend:{data:["bar","bar2"],align:"left"},tooltip:{},xAxis:{data:t,silent:!1,splitLine:{show:!1}},yAxis:{},series:[{name:"bar",type:"bar",data:e,animationDelay:t=>10*t},{name:"bar2",type:"bar",data:s,animationDelay:t=>10*t+100}],animationEasing:"elasticOut",animationDelayUpdate:t=>5*t}}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(I))},t.\u0275cmp=n.Db({type:t,selectors:[["doc-overview"]],decls:16,vars:4,consts:[["sim-raised-button","",3,"click"],["simEcharts","",3,"options","theme"],[3,"options","theme"]],template:function(t,e){1&t&&(n.Ob(0,"p"),n.xc(1,"overview works!"),n.Nb(),n.Ob(2,"h3"),n.xc(3,"\u4e3b\u9898\u5207\u6362"),n.Nb(),n.Ob(4,"button",0),n.Vb("click",(function(){return e.theme="roma"})),n.xc(5,"roma"),n.Nb(),n.Ob(6,"button",0),n.Vb("click",(function(){return e.theme="customed"})),n.xc(7,"customed"),n.Nb(),n.Ob(8,"button",0),n.Vb("click",(function(){return e.theme="infographic"})),n.xc(9,"infographic"),n.Nb(),n.Ob(10,"button",0),n.Vb("click",(function(){return e.theme="macarons"})),n.xc(11,"macarons"),n.Nb(),n.Ob(12,"button",0),n.Vb("click",(function(){return e.theme="wonderland"})),n.xc(13,"wonderland"),n.Nb(),n.Kb(14,"div",1),n.Kb(15,"sim-echarts",2)),2&t&&(n.zb(14),n.ec("options",e.options)("theme",e.theme),n.zb(1),n.ec("options",e.options)("theme",e.theme))},directives:[D.b,P],styles:[""]}),t})()},{path:"api",component:d},{path:"examples",component:g}]}];let H=(()=>{class t{}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(B),l,c.a,r.a,h]]}),t})()},wTjk:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var i=s("ckkg"),r=s("FU6l"),a=s("5uGe"),n=s("pBDD"),h=s("mW0F"),c=s("sWLk");function o(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(i.a)(t,void 0).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new d(t,this.resultSelector))}}class d extends a.a{constructor(t,e,s=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=s}_next(t){const e=this.iterators;Object(r.a)(t)?e.push(new p(t)):e.push("function"==typeof t[c.a]?new u(t[c.a]()):new g(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let s=0;s<e;s++){let e=t[s];e.stillUnsubscribed?this.destination.add(e.subscribe(e,s)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,s=this.destination;for(let a=0;a<e;a++){let e=t[a];if("function"==typeof e.hasValue&&!e.hasValue())return}let i=!1;const r=[];for(let a=0;a<e;a++){let e=t[a],n=e.next();if(e.hasCompleted()&&(i=!0),n.done)return void s.complete();r.push(n.value)}this.resultSelector?this._tryresultSelector(r):s.next(r),i&&s.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class u{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class p{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[c.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class g extends n.a{constructor(t,e,s){super(t),this.parent=e,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[c.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,s,i,r){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return Object(h.a)(this,this.observable,this,e)}}}}]);